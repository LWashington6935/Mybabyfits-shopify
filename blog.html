<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Blog â€“ BabyFits</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="BabyFits Blog: parenting tips, fabric guides, sustainability updates, product care and behind-the-scenes stories." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Poppins',sans-serif; background:#F5F5F5; color:#333; }
    .card { background:#fff; border-radius:1rem; box-shadow:0 4px 14px -6px rgba(0,0,0,.08); }
    .badge { background:#ffe3ef; color:#c53f78; padding:4px 10px; border-radius:999px; font-size:.55rem; font-weight:600; letter-spacing:.5px; }
    .tag { background:#f3f4f6; padding:4px 8px; font-size:.65rem; border-radius:8px; font-weight:500; }
    .tag-cloud a { display:inline-block; background:#fff; padding:6px 10px; margin:4px; font-size:.65rem; border-radius:999px; box-shadow:0 2px 6px -2px rgba(0,0,0,.12); transition:background .25s; }
    .tag-cloud a:hover { background:#ffe6f0; }
    .line-clamp-3 { display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
    .post-img { aspect-ratio:16/10; object-fit:cover; }
    .gradient-text { background:linear-gradient(90deg,#f59ac0,#f7c5d9); -webkit-background-clip:text; color:transparent; }
    .category-pill { cursor:pointer; padding:6px 14px; background:#fff; border-radius:999px; font-size:.65rem; font-weight:600; box-shadow:0 2px 5px -2px rgba(0,0,0,.15); transition:all .25s; }
    .category-pill.active, .category-pill:hover { background:#f59ac0; color:#fff; }
  </style>
</head>
<body>

<!-- Header -->
<header class="bg-[#FCD5CE] h-16 shadow-md">
  <div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-between">
    <a href="index.html" class="flex items-center h-full">
      <img src="images/babyfits-logo.png" alt="BabyFits Logo" class="h-14 w-14">
    </a>
    <nav class="flex items-center space-x-6 text-sm text-gray-800">
      <a href="index.html" class="hover:underline">Home</a>
      <a href="shop.html" class="hover:underline">Shop</a>
      <a href="our-story.html" class="hover:underline">Our Story</a>
      <a href="sustainability.html" class="hover:underline">Sustainability</a>
      <a href="careers.html" class="hover:underline">Careers</a>
      <a href="press.html" class="hover:underline">Press</a>
      <a href="blog.html" class="font-semibold underline decoration-pink-500">Blog</a>
      <a href="contact.html" class="hover:underline">Contact</a>
      <a href="cart.html" class="hover:underline">Cart ðŸ›’</a>
    </nav>
  </div>
</header>

<!-- Hero / Filters -->
<section class="bg-gradient-to-r from-pink-50 to-pink-100 border-b border-pink-200">
  <div class="max-w-7xl mx-auto px-6 py-14">
    <div class="max-w-3xl">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">BabyFits Blog</h1>
      <p class="text-gray-600 mb-8 text-lg">
        Practical parenting tips, fabric insights, sustainability progress, product care & behind-the-scenes notes.
      </p>
    </div>
    <div class="flex flex-col md:flex-row md:items-center gap-6">
      <!-- Categories -->
      <div id="categoryBar" class="flex flex-wrap gap-3">
        <!-- Pills injected -->
      </div>
      <!-- Search -->
      <div class="flex items-center gap-2 ml-auto">
        <input id="postSearch" type="text" placeholder="Search posts..."
               class="px-4 py-2 rounded border border-pink-300 bg-white focus:outline-none focus:ring-2 focus:ring-pink-400 w-60 text-sm" />
        <button id="clearSearch"
          class="text-xs bg-gray-200 hover:bg-gray-300 px-3 py-2 rounded font-medium">Reset</button>
      </div>
    </div>
  </div>
</section>

<!-- Main Layout -->
<main class="max-w-7xl mx-auto px-6 mt-10 mb-24 grid lg:grid-cols-12 gap-10">
  <!-- Posts -->
  <section class="lg:col-span-8">
    <div id="postsGrid" class="grid sm:grid-cols-2 gap-6 mb-10">
      <!-- Post cards inserted -->
    </div>
    <div class="text-center">
      <button id="loadMoreBtn"
        class="px-6 py-3 bg-pink-500 text-white rounded-lg font-semibold hover:bg-pink-600 transition hidden">
        Load More
      </button>
    </div>
  </section>

  <!-- Sidebar -->
  <aside class="lg:col-span-4 space-y-8">
    <!-- About -->
    <div class="card p-6">
      <h3 class="font-semibold mb-2">About BabyFits</h3>
      <p class="text-sm text-gray-600 leading-relaxed">
        We obsess over cozy, responsible baby essentialsâ€”and share what we learn. From fabric science to
        laundry hacks and growth updates, this is our notebook.
      </p>
    </div>

    <!-- Popular Posts -->
    <div class="card p-6">
      <h3 class="font-semibold mb-4">Popular Posts</h3>
      <ul id="popularList" class="space-y-4 text-sm">
        <!-- Filled dynamically -->
      </ul>
    </div>

    <!-- Categories -->
    <div class="card p-6">
      <h3 class="font-semibold mb-4">Categories</h3>
      <ul id="categoryList" class="space-y-2 text-sm">
        <!-- Filled dynamically -->
      </ul>
    </div>

    <!-- Newsletter -->
    <div class="card p-6">
      <h3 class="font-semibold mb-2">Newsletter</h3>
      <p class="text-sm text-gray-600 mb-4">
        New posts, drops & impact notesâ€”monthly.
      </p>
      <form id="blogSignup" class="flex flex-col gap-3">
        <input type="email" id="blogEmail" required
               class="px-3 py-2 rounded border border-pink-300 focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm"
               placeholder="Email address" />
        <button class="bg-pink-500 text-white text-sm font-semibold py-2 rounded hover:bg-pink-600 transition">
          Subscribe
        </button>
      </form>
      <p id="blogSignupMsg" class="text-green-600 text-xs font-medium mt-2 hidden">
        Subscribed! ðŸ’•
      </p>
    </div>

    <!-- Tag Cloud -->
    <div class="card p-6">
      <h3 class="font-semibold mb-3">Tags</h3>
      <div id="tagCloud" class="tag-cloud -m-1">
        <!-- Tag links -->
      </div>
    </div>
  </aside>
</main>

<!-- Footer -->
<footer class="bg-[#FCD5CE] text-center py-6 text-sm text-gray-700">
  &copy; 2025 BabyFits. All rights reserved.
</footer>

<!-- Blog Script -->
<script>
  /* ---------------- Mock Posts Data ---------------- */
  const POSTS = [
    {
      id:'fabric-guide-organic-cotton',
      title:'Why Organic Cotton Matters for Baby Skin',
      date:'2025-02-10',
      category:'Fabric',
      tags:['organic','cotton','skin','materials'],
      excerpt:'We break down conventional vs organic cotton, pesticide exposure, softness & durability tradeoffs.',
      minutes:5,
      image:'images/blog1.jpg'
    },
    {
      id:'laundry-tips-onesies',
      title:'5 Laundry Tips to Make Onesies Last Longer',
      date:'2025-02-05',
      category:'Care',
      tags:['laundry','care','durability'],
      excerpt:'Gentle cycles, mesh bags & temperature choices extend life and color vibrancy of daily basics.',
      minutes:4,
      image:'images/blog2.jpg'
    },
    {
      id:'nighttime-sleep-pajamas',
      title:'Choosing the Right Pajamas for Better Sleep',
      date:'2025-02-01',
      category:'Parenting',
      tags:['sleep','pajamas','comfort'],
      excerpt:'Fabric breathability, seam placement & cuff design can influence nighttime comfort.',
      minutes:6,
      image:'images/blog3.jpg'
    },
    {
      id:'impact-report-preview',
      title:'Sneak Peek: 2025 Impact Baseline',
      date:'2025-01-25',
      category:'Sustainability',
      tags:['impact','metrics','sustainability'],
      excerpt:'How weâ€™re measuring fiber mix, audit coverage & packaging footprint this year.',
      minutes:5,
      image:'images/blog4.jpg'
    },
    {
      id:'gift-sets-baby-showers',
      title:'Creating the Perfect Baby Shower Gift Set',
      date:'2025-01-20',
      category:'Gifting',
      tags:['gifts','bundles','showers'],
      excerpt:'Layering essentials with a thoughtful keepsake makes your gift memorable & useful.',
      minutes:4,
      image:'images/blog5.jpg'
    },
    {
      id:'romper-vs-onesie',
      title:'Rompers vs Onesies: Functional Differences',
      date:'2025-01-14',
      category:'Products',
      tags:['rompers','onesies','design'],
      excerpt:'Snap layout, torso ease and diaperâ€‘change speedâ€”what makes each silhouette shine.',
      minutes:7,
      image:'images/blog6.jpg'
    },
    {
      id:'baby-skin-irritants',
      title:'Common Fabric Irritants to Avoid',
      date:'2025-01-05',
      category:'Fabric',
      tags:['irritants','allergies','comfort'],
      excerpt:'Finishes & treatments that sometimes cause rednessâ€”and the safer alternatives.',
      minutes:5,
      image:'images/blog7.jpg'
    },
    {
      id:'washing-delicates-mesh-bags',
      title:'Do Mesh Bags Really Help Baby Clothes?',
      date:'2024-12-28',
      category:'Care',
      tags:['laundry','mesh','protection'],
      excerpt:'Testing abrasion & pilling reduction when using mesh garment bags for small pieces.',
      minutes:3,
      image:'images/blog8.jpg'
    },
    {
      id:'sizing-guide-newborn-to-24m',
      title:'Sizing Guide: Newborn to 24 Months',
      date:'2024-12-18',
      category:'Parenting',
      tags:['sizing','growth','fit'],
      excerpt:'How to interpret length vs weight charts & when to size up for seasonal planning.',
      minutes:6,
      image:'images/blog9.jpg'
    },
    {
      id:'packaging-reduction-initiative',
      title:'Reducing Packaging Without Losing Protection',
      date:'2024-12-10',
      category:'Sustainability',
      tags:['packaging','reduction','sustainability'],
      excerpt:'Trials with recycled mailers, kraft wraps & waterâ€‘based inks.',
      minutes:4,
      image:'images/blog10.jpg'
    }
  ];

  /* --------------- Configuration --------------- */
  const PAGE_SIZE = 6;
  let currentPage = 1;
  let activeCategory = '';
  let activeTag = '';
  let searchQuery = '';

  /* --------------- DOM Elements --------------- */
  const postsGrid    = document.getElementById('postsGrid');
  const loadMoreBtn  = document.getElementById('loadMoreBtn');
  const postSearch   = document.getElementById('postSearch');
  const clearSearch  = document.getElementById('clearSearch');
  const categoryBar  = document.getElementById('categoryBar');
  const categoryList = document.getElementById('categoryList');
  const popularList  = document.getElementById('popularList');
  const tagCloud     = document.getElementById('tagCloud');

  /* --------------- Utilities --------------- */
  function formatDate(iso){
    const d = new Date(iso);
    return d.toLocaleDateString(undefined,{month:'short', day:'numeric', year:'numeric'});
  }
  function slugify(str){
    return str.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-|-$/g,'');
  }

  /* --------------- Filtering --------------- */
  function getFilteredPosts(){
    return POSTS.filter(p => {
      const matchCategory = !activeCategory || p.category === activeCategory;
      const matchTag = !activeTag || p.tags.includes(activeTag);
      const text = (p.title + p.excerpt + p.category + p.tags.join(' ')).toLowerCase();
      const matchSearch = !searchQuery || text.includes(searchQuery);
      return matchCategory && matchTag && matchSearch;
    }).sort((a,b) => new Date(b.date) - new Date(a.date));
  }

  function renderPosts(reset = false){
    if(reset){
      postsGrid.innerHTML = '';
      currentPage = 1;
    }
    const filtered = getFilteredPosts();
    const start = 0;
    const end = currentPage * PAGE_SIZE;
    const pageItems = filtered.slice(start, end);

    postsGrid.innerHTML = pageItems.map(p => `
      <article class="card overflow-hidden flex flex-col">
        <a href="post-${p.id}.html" class="block">
          <img src="${p.image}" alt="${p.title}" class="w-full post-img">
        </a>
        <div class="p-5 flex flex-col flex-1">
          <div class="flex items-center justify-between mb-3">
            <span class="badge">${p.category}</span>
            <span class="text-[11px] text-gray-500">${formatDate(p.date)}</span>
          </div>
            <h2 class="font-semibold text-lg leading-snug mb-2">
              <a href="post-${p.id}.html" class="hover:text-pink-600">${p.title}</a>
            </h2>
            <p class="text-sm text-gray-600 line-clamp-3 mb-4">${p.excerpt}</p>
            <div class="flex flex-wrap gap-2 mb-4">
              ${p.tags.slice(0,4).map(t => `<button data-tag="${t}" class="tag hover:bg-pink-100 transition">${t}</button>`).join('')}
            </div>
            <div class="mt-auto pt-2 flex items-center justify-between text-xs text-gray-500">
              <span>${p.minutes} min read</span>
              <a href="post-${p.id}.html" class="text-pink-600 font-medium hover:underline">Read â†’</a>
            </div>
        </div>
      </article>
    `).join('');

    // Show/Hide Load More
    if(filtered.length > pageItems.length){
      loadMoreBtn.classList.remove('hidden');
    } else {
      loadMoreBtn.classList.add('hidden');
    }
  }

  /* --------------- Category Pills --------------- */
  function renderCategories(){
    const cats = [...new Set(POSTS.map(p => p.category))].sort();
    categoryBar.innerHTML = `
      <div class="category-pill ${!activeCategory && !activeTag ? 'active' : ''}" data-cat="">All</div>
      ${cats.map(c => `<div class="category-pill ${activeCategory===c?'active':''}" data-cat="${c}">${c}</div>`).join('')}
    `;
    // Sidebar list with counts
    const counts = {};
    POSTS.forEach(p => counts[p.category] = (counts[p.category]||0)+1);
    categoryList.innerHTML = Object.entries(counts)
      .sort((a,b)=>a[0].localeCompare(b[0]))
      .map(([c,n]) => `
        <li class="flex justify-between">
          <button data-side-cat="${c}" class="text-left hover:text-pink-600">${c}</button>
          <span class="text-gray-500">${n}</span>
        </li>`
      ).join('');
  }

  /* --------------- Popular Posts (simple heuristic: recent top 4) --------------- */
  function renderPopular(){
    const popular = [...POSTS].sort((a,b)=> new Date(b.date)-new Date(a.date)).slice(0,4);
    popularList.innerHTML = popular.map(p => `
      <li class="flex gap-3">
        <a href="post-${p.id}.html" class="w-16 h-16 rounded overflow-hidden flex-shrink-0 block">
          <img src="${p.image}" alt="${p.title}" class="w-full h-full object-cover">
        </a>
        <div class="flex-1">
          <a href="post-${p.id}.html" class="font-semibold text-[13px] leading-snug hover:text-pink-600">${p.title}</a>
          <p class="text-[10px] text-gray-500 mt-1">${p.minutes} min â€¢ ${formatDate(p.date)}</p>
        </div>
      </li>
    `).join('');
  }

  /* --------------- Tag Cloud --------------- */
  function renderTags(){
    const tagFreq = {};
    POSTS.forEach(p => p.tags.forEach(t => tagFreq[t]=(tagFreq[t]||0)+1));
    const sorted = Object.entries(tagFreq).sort((a,b)=> b[1]-a[1]);
    tagCloud.innerHTML = sorted.map(([t,f]) =>
      `<a href="#" data-tag-cloud="${t}" title="${f} posts">${t}</a>`
    ).join('');
  }

  /* --------------- Event Listeners --------------- */
  categoryBar.addEventListener('click', e => {
    const pill = e.target.closest('.category-pill');
    if(!pill) return;
    activeCategory = pill.dataset.cat;
    activeTag = ''; // clear tag if category chosen
    renderCategories();
    renderPosts(true);
  });

  categoryList.addEventListener('click', e => {
    const btn = e.target.closest('[data-side-cat]');
    if(!btn) return;
    activeCategory = btn.dataset.sideCat;
    activeTag = '';
    renderCategories();
    renderPosts(true);
    window.scrollTo({top:0, behavior:'smooth'});
  });

  postSearch.addEventListener('input', () => {
    searchQuery = postSearch.value.trim().toLowerCase();
    renderPosts(true);
  });
  clearSearch.addEventListener('click', () => {
    postSearch.value = '';
    searchQuery = '';
    renderPosts(true);
  });

  loadMoreBtn.addEventListener('click', () => {
    currentPage++;
    renderPosts();
  });

  // Delegate tag clicks (cards)
  postsGrid.addEventListener('click', e => {
    const tagBtn = e.target.closest('[data-tag]');
    if(!tagBtn) return;
    activeTag = tagBtn.dataset.tag;
    activeCategory = '';
    searchQuery = '';
    postSearch.value = '';
    renderCategories();
    renderPosts(true);
    window.scrollTo({top:0, behavior:'smooth'});
  });

  // Tag cloud clicks
  tagCloud.addEventListener('click', e => {
    const t = e.target.closest('[data-tag-cloud]');
    if(!t) return;
    e.preventDefault();
    activeTag = t.dataset.tagCloud;
    activeCategory = '';
    searchQuery = '';
    postSearch.value = '';
    renderCategories();
    renderPosts(true);
    window.scrollTo({top:0, behavior:'smooth'});
  });

  // Newsletter signup stub
  document.getElementById('blogSignup').addEventListener('submit', e => {
    e.preventDefault();
    const email = document.getElementById('blogEmail').value.trim();
    if(!email) return;
    document.getElementById('blogSignupMsg').classList.remove('hidden');
    e.target.reset();
    setTimeout(()=>document.getElementById('blogSignupMsg').classList.add('hidden'),4000);
  });

  /* --------------- Initial Render --------------- */
  renderCategories();
  renderPopular();
  renderTags();
  renderPosts(true);
</script>

</body>
</html>
